<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./loey2.ico" />

    <script src="./jquery.min.js"></script>
    <link rel="stylesheet" href="./commen.css">
    <link rel="stylesheet" href="./news.css">


    <!-- ========================= -->
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous"><!-- 导入bootstrap v5的CSS 文件去除integrity部分 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script><!-- 导入bootstrap v5的js文件集成包去除integrity部分 -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- ============================== -->
    <title>news</title>
</head>
<style>
    .list {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        padding: 0;
    }

    .list li {
        border: 1px solid seashell;
    }

    .list img {
        width: 200px;
        height: 200px;
    }
</style>

<body>
    <div class="top">
        <div class="logo">
            <img src="./img/logo.png">
        </div>
        <ul id="nav">
            <li><a href="./loey.html">HOME</a></li>
            <li><a href="./abut.html">About</a></li>
            <li><a href="#">Services</a></li>
            <li><a href="#">Team</a></li>
            <li><a href="./news.html">News</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
        <!-- ======================================================= -->
        <!-- ======================================================= -->
        <!-- ======================================================= -->
        <!-- ======================================================= -->












    </div>




    <div class="container">
        <!-- ============================ =================================== -->
        <div>
            <!-- =============== -->
            <div class="news ">



                <div class="book_wrapper">


                    <div>
                        <img src="./img/war1.jpg" alt="" />
                        <h1>WE ARE ONE</h1>
                        <p> Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis, dolores facere! Harum illo
                            exercitationem, deleniti rerum culpa, sint vel molestias, architecto doloribus odio alias
                            nemo incidunt dicta unde minima cumque? The user can scroll through the thumbnails
                            by using the slider controls. When a thumbnail is clicked,
                            it moves to the center and the full image preview opens.</p>

                    </div>


                </div>



            </div>


            <ul class="list">

            </ul>
        </div>
        <!-- 分页 -->
        <div style="margin-left: 550px;">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li onclick="pre()" class="page-item">
                        <a class="page-link" href="#" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li onclick="getUrl(1)" class="page-item"><a class="page-link" href="#">1</a></li>
                    <li onclick="getUrl(2)" class="page-item"><a class="page-link" href="#">2</a></li>
                    <li onclick="getUrl(3)" class="page-item"><a class="page-link" href="#">3</a></li>
                    <li onclick="next()" class="page-item">
                        <!-- ============================================ -->
                        <!-- <li onclick="page(1)" class="page-item"><a class="page-link" href="#">1</a></li>
                <li onclick="page(2)" class="page-item"><a class="page-link" href="#">2</a></li>
                <li onclick="page(3)" class="page-item"><a class="page-link" href="#">3</a></li>
                <li onclick="next()" class="page-item"> -->

                        <!-- ================================================= -->
                        <a class="page-link" href="#" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- ================================== -->
    <div class="footer">
        <div class="connect w">
            <section><img src="./img/星球.png">
                <h1>exoplant</h1>
            </section>
            <section><img src="./img/邮件.png">
                <h1>email</h1>
            </section>

            <section><img src="./img/联系人 (5).png">
                <h1>contacts</h1>
            </section>

            <section><img src="./img/二维码.png">
                <h1>sign in</h1>

            </section>


        </div>
        <div class="ban">@版权所有loey</div>
    </div>


</body>

</html>

<script>
    // ============================================

    // let current = window;
    // function pre() {
    //     if (current > 1) {
    //         page(current - 1);

    //     }
    // }
    // function next() {
    //     if (current < 3) {
    //         page(current + 1);

    //     }
    // }
    // function page(page) {
    //     current = page;
    //     $('.list').empty();
    //     axios.get(`https://lingqule.papamk.com/wp-json/w2w/v1/products?page=${page}`).then(function (res) {
    //         console.log(res.data);
    //         for (let i = 0; i < 9; i++) {
    //             let li = $('<li></li>');
    //             li.append(`<img width='300px' hight='300px' src=${res.data[i].images[0].src}>`);
    //             li.append(`<h3>${res.data[i].name}</h3>`)
    //             li.append(`<span>${res.data[i].date_created}</span>`)
    //             li.attr('id', res.data[i].id);
    //             $('.list').append(li)
    //         }
    //         $('.list li').click(function () {
    //             window.location.href = `./newdetail.html?id=${$(this).attr('id')}`
    //         })
    //     })
    // }


    // ============================================
    let current = Number(window.location.href.split("?page=")[1]) || 1;
    function pre() {
        if (current > 1) {
            getUrl(current - 1);

        }
    }
    function next() {
        if (current < 3) {
            getUrl(current + 1);

        }
    }
    function getUrl(page) {
        window.location.href = `?page=${page}`
    }
    page(current)
    function page(page) {
        current = page;
        $('.list').empty();
        axios.get(`https://lingqule.papamk.com/wp-json/w2w/v1/products?page=${page}`).then(function (res) {
            console.log(res.data);
            for (let i = 0; i < 9; i++) {
                let li = $('<li></li>');
                li.append(`<img width='300px' hight='300px' src=${res.data[i].images[0].src}>`);
                li.append(`<h3>${res.data[i].name}</h3>`)
                li.append(`<span>${res.data[i].date_created}</span>`)
                li.attr('id', res.data[i].id);
                $('.list').append(li)
            }
            $('.list li').click(function () {
                window.location.href = `./newdetail.html?id=${$(this).attr('id')}`
            })
        })
    }
</script>